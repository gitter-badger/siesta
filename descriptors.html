<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<!--suppress ALL -->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Documentation: Descriptors</title>
    <meta name="description" content="The Easiest Way To Document Your Project"/>
    <meta name="author" content="Justin Walsh">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic'
          rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='static/css/main.css' rel='stylesheet' type='text/css'>
</head>
<body>
<!-- Docs -->
<a href="https://github.com/mtford90/siesta" target="_blank" id="github-ribbon" class="hidden-print"><img
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div class="container-fluid fluid-height wrapper">
<div class="navbar navbar-fixed-top hidden-print">
    <div class="container-fluid">
        <a class="brand navbar-brand pull-left" href="/">SIESTA</a>
        <p class="brand navbar-text pull-right"><a href="/siesta/download.html">Download 0.1-alpha</a></p>
    </div>
</div>
<div class="row columns content">
<div class="left-column article-tree col-sm-3 hidden-print">
    <!-- For Mobile -->
    <div class="responsive-collapse">
        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div id="sub-nav-collapse" class="sub-nav-collapse">
        <!-- Navigation -->
        <!--suppress HtmlUnknownTarget -->
<ul class="nav nav-list">
    <li><a href="/siesta/docs.html">Getting Started</a></li>
    <li><a href="/siesta/concepts.html">Concepts</a></li>
    <li>
        <a href="#" class="aj-nav folder">Guide</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/object_mapping.html">Mapping</a></li>
            <li><a href="/siesta/http.html">HTTP</a></li>
            <li><a href="/siesta/local_queries.html">Local Queries</a></li>
            <li><a href="/siesta/notifications.html">Notifications</a></li>
            <li><a href="/siesta/persistence.html">Persistence</a></li>
        </ul>
    </li>
    <li>
        <a href="#" class="aj-nav folder">API</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/collections.html">Collection</a></li>
        </ul>
    </li>
    <li>
        <a href="#" class="aj-nav folder">Recipes</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/intercollection_relationships.html">Inter-Collection Relationships</a></li>
            <li><a href="/siesta/complex_queries.html">Complex Queries</a></li>
            <li><a href="/siesta/pouchdb_synchronisation.html">PouchDB Synchronisation</a></li>
            <li><a href="/siesta/local_collections.html">Local Collections</a></li>
        </ul>
    </li>
</ul>
<div class="well well-sidebar">

    <!-- Links -->
    <a href="/siesta/download.html" target="_blank">Download</a><br><a
        href="https://github.com/mtford90/siesta" target="_blank">GitHub Repo</a><br><a
        href="https://github.com/mtford90/siesta/issues" target="_blank">Help/Support/Bugs</a><br>
    <a href="#"
       id="toggleCodeBlockBtn"
       onclick="toggleCodeBlocks();">Show
        Code Blocks Inline</a><br>
</div>


    </div>
</div>
<div class="right-column float-view content-area col-sm-9">
<div class="content-page">
<article>
    <h1>Index</h1>

<p><strong>Classes</strong></p>

<ul>
<li><a href="#Descriptor">class: Descriptor</a>

<ul>
<li><a href="#new_Descriptor">new Descriptor(opts)</a></li>
<li><a href="#Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#Descriptor#_transformData">descriptor._transformData(data)</a></li>
</ul></li>
<li><a href="#ResponseDescriptor">class: ResponseDescriptor</a>

<ul>
<li><a href="#new_ResponseDescriptor">new ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><strong>Functions</strong></p>

<ul>
<li><a href="#bury">bury(obj, data)</a></li>
</ul>

<p><strong>Members</strong></p>

<ul>
<li><a href="#path">path</a></li>
</ul>

<p><a name="Descriptor"></a></p>

<h1>class: Descriptor</h1>

<p><strong>Members</strong></p>

<ul>
<li><a href="#Descriptor">class: Descriptor</a>

<ul>
<li><a href="#new_Descriptor">new Descriptor(opts)</a></li>
<li><a href="#Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#Descriptor#_transformData">descriptor._transformData(data)</a></li>
</ul></li>
</ul>

<p><a name="new_Descriptor"></a></p>

<h2>new Descriptor(opts)</h2>

<p>A descriptor &#39;describes&#39; possible HTTP requests against an API, and is used to decide whether or not to
intercept a HTTP request/response and perform a mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><a name="Descriptor#_matchPath"></a></p>

<h2>descriptor._matchPath(path)</h2>

<p>Takes a regex path and returns an object if matched.
If any regular expression groups were defined, the returned object will contain the matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> | <code>RegExp</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/resource/(?P&lt;id&gt;)/&#39;</span>
<span class="p">})</span>
<span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_matchPath</span><span class="p">(</span><span class="s1">&#39;/resource/2&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">matched</span><span class="p">);</span> <span class="c1">// {id: &#39;2&#39;}</span>
</code></pre></div>
<p><a name="Descriptor#_matchMethod"></a></p>

<h2>descriptor._matchMethod(method)</h2>

<p>Returns true if the descriptor accepts the HTTP method.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>boolean</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">method</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_matchMethod</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div>
<p><a name="Descriptor#_extractData"></a></p>

<h2>descriptor._extractData(data)</h2>

<p>If nested data has been specified in the descriptor, extract the data.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="Descriptor#_matchConfig"></a></p>

<h2>descriptor._matchConfig(config)</h2>

<p>Returns this descriptors mapping if the request config matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="Descriptor#_matchData"></a></p>

<h2>descriptor._matchData(data)</h2>

<p>Returns data if the data matches, performing any extraction as specified in opts.data</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="Descriptor#match"></a></p>

<h2>descriptor.match(config, data)</h2>

<p>Check if the HTTP config and returned data match this descriptor definition.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code> - Config object for $.ajax and similar<br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Extracted data<br>
<a name="Descriptor#_transformData"></a></p>

<h2>descriptor._transformData(data)</h2>

<p>Apply any transforms.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code> - Serialised data.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Serialised data with applied transformations.<br>
<a name="ResponseDescriptor"></a></p>

<h1>class: ResponseDescriptor</h1>

<p><strong>Members</strong></p>

<ul>
<li><a href="#ResponseDescriptor">class: ResponseDescriptor</a>

<ul>
<li><a href="#new_ResponseDescriptor">new ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="new_ResponseDescriptor"></a></p>

<h2>new ResponseDescriptor(opts)</h2>

<p>Describes what to do with a HTTP response.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><a name="bury"></a></p>

<h1>bury(obj, data)</h1>

<p>Performs a breadth-first search through data, embedding obj in the first leaf.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>Object</code><br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="path"></a></p>

<h1>path</h1>

<p><strong>Type</strong>: <code>String</code>  </p>

</article>
</div>
</div>
</div>
</div>


<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
    if (typeof jQuery == 'undefined')
        document.write(unescape("%3Cscript src='js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- hightlight.js -->
<script src="static/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- JS -->

<!-- Front end file editor -->
<script src="static/js/custom.js"></script>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

</body>
</html>

