<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<!--suppress ALL -->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Documentation: API</title>
    <meta name="description" content="The Easiest Way To Document Your Project"/>
    <meta name="author" content="Justin Walsh">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic'
          rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='static/css/main.css' rel='stylesheet' type='text/css'>
</head>
<body>
<!-- Docs -->
<a href="https://github.com/mtford90/siesta" target="_blank" id="github-ribbon" class="hidden-print"><img
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div class="container-fluid fluid-height wrapper">
<div class="navbar navbar-fixed-top hidden-print">
    <div class="container-fluid">
        <a class="brand navbar-brand pull-left" href="/">SIESTA</a>
        <p class="brand navbar-text pull-right"><a href="/siesta/download.html">Download 0.1-alpha</a></p>
    </div>
</div>
<div class="row columns content">
<div class="left-column article-tree col-sm-3 hidden-print">
    <!-- For Mobile -->
    <div class="responsive-collapse">
        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div id="sub-nav-collapse" class="sub-nav-collapse">
        <!-- Navigation -->
        <!--suppress HtmlUnknownTarget -->
<ul class="nav nav-list">
    <li><a href="/siesta/docs.html">Getting Started</a></li>
    <li><a href="/siesta/concepts.html">Concepts</a></li>
    <li><a href="/siesta/guide.html">Guide</a></li>
    <li><a href="/siesta">Recipes</a></li>
</ul>
<div class="well well-sidebar">
    <a href="/siesta/download.html" target="_blank">Download</a><br><a
        href="https://github.com/mtford90/siesta" target="_blank">GitHub Repo</a><br><a
        href="https://github.com/mtford90/siesta/issues" target="_blank">Help/Support/Bugs</a><br>
    <a href="#"
       id="toggleCodeBlockBtn"
       onclick="toggleCodeBlocks();">Show
        Code Blocks Inline</a><br>
</div>Æ’


    </div>
</div>
<div class="right-column float-view content-area col-sm-9">
<div class="content-page">
<article>
    <h1>Index</h1>

<p><strong>Modules</strong></p>

<ul>
<li><a href="#module_collection">collection</a>

<ul>
<li><a href="#module_collection..Collection">class: collection~Collection</a></li>
<li><a href="#new_module_collection..Collection">new collection~Collection(name)</a></li>
<li><a href="#module_collection..Collection#baseURL">collection.baseURL</a></li>
<li><a href="#module_collection..Collection#installed">collection.installed</a></li>
<li><a href="#module_collection..Collection#install">collection.install(callback)</a></li>
<li><a href="#module_collection..Collection#_finaliseInstallation">collection._finaliseInstallation(err, callback)</a></li>
<li><a href="#module_collection..Collection#_mapping">collection._mapping(name, mapping)</a></li>
<li><a href="#module_collection..Collection#mapping">collection.mapping(optsOrName, opts)</a></li>
<li><a href="#module_collection..Collection#_dump">collection._dump(asJson)</a></li>
<li><a href="#module_collection..Collection#GET">collection.GET(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#OPTIONS">collection.OPTIONS(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#TRACE">collection.TRACE(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#HEAD">collection.HEAD(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#POST">collection.POST(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#PUT">collection.PUT(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#PATCH">collection.PATCH(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#DELETE">collection.DELETE(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#count">collection.count(callback)</a></li>
</ul></li>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
<li><a href="#module_store">store</a>

<ul>
<li><a href="#module_store..get">store~get(opts, callback)</a></li>
<li><a href="#module_store..getMultipleLocal">store~getMultipleLocal(localIdentifiers, callback)</a></li>
</ul></li>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
<li><a href="#module_cache">cache</a>

<ul>
<li><a href="#module_cache..getViaLocalId">cache~getViaLocalId(localId)</a></li>
<li><a href="#module_cache..getSingleton">cache~getSingleton(mapping)</a></li>
<li><a href="#module_cache..getViaRemoteId">cache~getViaRemoteId(remoteId, opts)</a></li>
<li><a href="#module_cache..remoteInsert">cache~remoteInsert(obj, remoteId, previousRemoteId)</a></li>
<li><a href="#module_cache..remoteDump">cache~remoteDump(asJson)</a></li>
<li><a href="#module_cache..localDump">cache~localDump(asJson)</a></li>
<li><a href="#module_cache..dump">cache~dump(asJson)</a></li>
<li><a href="#module_cache..get">cache~get(opts)</a></li>
<li><a href="#module_cache..insert">cache~insert(obj)</a></li>
<li><a href="#module_cache..contains">cache~contains(obj)</a></li>
<li><a href="#module_cache..remove">cache~remove(obj)</a></li>
</ul></li>
</ul>

<p><a name="module_collection"></a></p>

<h1>collection</h1>

<p><a name="module_collection..Collection"></a></p>

<h2>class: collection~Collection</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_collection..Collection">class: collection~Collection</a>

<ul>
<li><a href="#new_module_collection..Collection">new collection~Collection(name)</a></li>
<li><a href="#module_collection..Collection#baseURL">collection.baseURL</a></li>
<li><a href="#module_collection..Collection#installed">collection.installed</a></li>
<li><a href="#module_collection..Collection#install">collection.install(callback)</a></li>
<li><a href="#module_collection..Collection#_finaliseInstallation">collection._finaliseInstallation(err, callback)</a></li>
<li><a href="#module_collection..Collection#_mapping">collection._mapping(name, mapping)</a></li>
<li><a href="#module_collection..Collection#mapping">collection.mapping(optsOrName, opts)</a></li>
<li><a href="#module_collection..Collection#_dump">collection._dump(asJson)</a></li>
<li><a href="#module_collection..Collection#GET">collection.GET(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#OPTIONS">collection.OPTIONS(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#TRACE">collection.TRACE(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#HEAD">collection.HEAD(path, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#POST">collection.POST(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#PUT">collection.PUT(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#PATCH">collection.PATCH(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#DELETE">collection.DELETE(path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_collection..Collection#count">collection.count(callback)</a></li>
</ul></li>
</ul>

<p><a name="new_module_collection..Collection"></a></p>

<h3>new collection~Collection(name)</h3>

<p>A collection describes a set of models and optionally a REST API which we would
like to model.</p>

<p><strong>Params</strong></p>

<ul>
<li>name<br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_collection">collection</a><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">GitHub</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">siesta</span><span class="p">.</span><span class="nx">Collection</span><span class="p">(</span><span class="s1">&#39;GitHub&#39;</span><span class="p">)</span>
<span class="c1">// ... configure mappings, descriptors etc ...</span>
<span class="nx">GitHub</span><span class="p">.</span><span class="nx">install</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ... carry on.</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="module_collection..Collection#baseURL"></a></p>

<h3>collection.baseURL</h3>

<p>The URL of the API e.g. http://api.github.com</p>

<p><strong>Type</strong>: <code>string</code><br>
<a name="module_collection..Collection#installed"></a></p>

<h3>collection.installed</h3>

<p>Set to true if installation has succeeded. You cannot use the collectio</p>

<p><strong>Type</strong>: <code>boolean</code><br>
<a name="module_collection..Collection#install"></a></p>

<h3>collection.install(callback)</h3>

<p>Ensure mappings are installed.</p>

<p><strong>Params</strong></p>

<ul>
<li>callback<br></li>
</ul>

<p><a name="module_collection..Collection#_finaliseInstallation"></a></p>

<h3>collection._finaliseInstallation(err, callback)</h3>

<p>Mark this collection as installed, and place the collection on the global Siesta object.</p>

<p><strong>Params</strong></p>

<ul>
<li>err <code>Object</code><br></li>
<li>callback <code>function</code><br></li>
</ul>

<p><a name="module_collection..Collection#_mapping"></a></p>

<h3>collection._mapping(name, mapping)</h3>

<p>Given the name of a mapping and an options object describing the mapping, creating a Mapping
object, install it and return it.</p>

<p><strong>Params</strong></p>

<ul>
<li>name <code>String</code><br></li>
<li>mapping <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Mapping</code><br>
<a name="module_collection..Collection#mapping"></a></p>

<h3>collection.mapping(optsOrName, opts)</h3>

<p>Registers a mapping with this collection.</p>

<p><strong>Params</strong></p>

<ul>
<li>optsOrName <code>String</code> | <code>Object</code> - An options object or the name of the mapping. Must pass options as second param if specify name.<br></li>
<li>opts <code>Object</code> - Options if name already specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Mapping</code><br>
<a name="module_collection..Collection#_dump"></a></p>

<h3>collection._dump(asJson)</h3>

<p>Dump this collection as JSON</p>

<p><strong>Params</strong></p>

<ul>
<li>asJson <code>Boolean</code> - Whether or not to apply JSON.stringify<br></li>
</ul>

<p><strong>Returns</strong>: <code>String</code> | <code>Object</code><br>
<a name="module_collection..Collection#GET"></a></p>

<h3>collection.GET(path, optsOrCallback, callback)</h3>

<p>Send a GET request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#OPTIONS"></a></p>

<h3>collection.OPTIONS(path, optsOrCallback, callback)</h3>

<p>Send a OPTIONS request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to send an OPTIONS request<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#TRACE"></a></p>

<h3>collection.TRACE(path, optsOrCallback, callback)</h3>

<p>Send a TRACE request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>path</code> - The path to the resource to which we want to send a TRACE request<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#HEAD"></a></p>

<h3>collection.HEAD(path, optsOrCallback, callback)</h3>

<p>Send a HEAD request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to send a HEAD request<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#POST"></a></p>

<h3>collection.POST(path, model, optsOrCallback, callback)</h3>

<p>Send a POST request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to send a POST request<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#PUT"></a></p>

<h3>collection.PUT(path, model, optsOrCallback, callback)</h3>

<p>Send a PUT request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to send a PUT request<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PUT<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#PATCH"></a></p>

<h3>collection.PATCH(path, model, optsOrCallback, callback)</h3>

<p>Send a PATCH request</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to send a PATCH request<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PATCH<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#DELETE"></a></p>

<h3>collection.DELETE(path, model, optsOrCallback, callback)</h3>

<p>Send a DELETE request. Also removes the object.</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> - The path to the resource to which we want to DELETE<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PATCH<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_collection..Collection#count"></a></p>

<h3>collection.count(callback)</h3>

<p>Returns the number of objects in this collection.</p>

<p><strong>Params</strong></p>

<ul>
<li>callback<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http"></a></p>

<h1>http</h1>

<p>Provisions usage of $.ajax and similar functions to send HTTP requests mapping
the results back onto the object graph automatically.</p>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="module_http..path"></a></p>

<h2>http~path</h2>

<p><strong>Scope</strong>: inner member of <a href="#module_http">http</a><br>
<strong>Type</strong>: <code>String</code><br>
<a name="module_http.._httpResponse"></a></p>

<h2>http~_httpResponse(method, path, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path parsing the response.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http.._httpRequest"></a></p>

<h2>http~_httpRequest(method, path, object, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>object <code>SiestaModel</code> - The model we&#39;re pushing to the server<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http..DELETE"></a></p>

<h2>http~DELETE(collection, path, model, optsOrCallback, callback)</h2>

<p>Send a DELETE request. Also removes the object.</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>Stirng</code> - The path to the resource to which we want to DELETE<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PATCH<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HTTP_METHOD"></a></p>

<h2>http~HTTP_METHOD(collection, request, method)</h2>

<p>Send a HTTP request using the given method</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>request  - Does the request contain data? e.g. POST/PATCH/PUT will be true, GET will false<br></li>
<li>method<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..GET"></a></p>

<h2>http~GET(collection, path, optsOrCallback, callback)</h2>

<p>Send a GET request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..OPTIONS"></a></p>

<h2>http~OPTIONS(collection, path, optsOrCallback, callback)</h2>

<p>Send an OPTIONS request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..TRACE"></a></p>

<h2>http~TRACE(collection, path, optsOrCallback, callback)</h2>

<p>Send an TRACE request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HEAD"></a></p>

<h2>http~HEAD(collection, path, optsOrCallback, callback)</h2>

<p>Send an HEAD request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..POST"></a></p>

<h2>http~POST(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an POST request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PUT"></a></p>

<h2>http~PUT(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PUT request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PATCH"></a></p>

<h2>http~PATCH(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PATCH request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..bury"></a></p>

<h2>http~bury(obj, data)</h2>

<p>Performs a breadth-first search through data, embedding obj in the first leaf.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>Object</code><br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor"></a></p>

<h2>class: http~Descriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a>

<ul>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..Descriptor"></a></p>

<h3>new http~Descriptor(opts)</h3>

<p>A descriptor &#39;describes&#39; possible HTTP requests against an API, and is used to decide whether or not to
intercept a HTTP request/response and perform a mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_http..Descriptor#_matchPath"></a></p>

<h3>descriptor._matchPath(path)</h3>

<p>Takes a regex path and returns an object if matched.
If any regular expression groups were defined, the returned object will contain the matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> | <code>RegExp</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/resource/(?P&lt;id&gt;)/&#39;</span>
<span class="p">})</span>
<span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_matchPath</span><span class="p">(</span><span class="s1">&#39;/resource/2&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">matched</span><span class="p">);</span> <span class="c1">// {id: &#39;2&#39;}</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_matchMethod"></a></p>

<h3>descriptor._matchMethod(method)</h3>

<p>Returns true if the descriptor accepts the HTTP method.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>boolean</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">method</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_matchMethod</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_extractData"></a></p>

<h3>descriptor._extractData(data)</h3>

<p>If nested data has been specified in the descriptor, extract the data.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchConfig"></a></p>

<h3>descriptor._matchConfig(config)</h3>

<p>Returns this descriptors mapping if the request config matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchData"></a></p>

<h3>descriptor._matchData(data)</h3>

<p>Returns data if the data matches, performing any extraction as specified in opts.data</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#match"></a></p>

<h3>descriptor.match(config, data)</h3>

<p>Check if the HTTP config and returned data match this descriptor definition.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code> - Config object for $.ajax and similar<br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Extracted data<br>
<a name="module_http..Descriptor#_transformData"></a></p>

<h3>descriptor._transformData(data)</h3>

<p>Apply any transforms.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code> - Serialised data.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Serialised data with applied transformations.<br>
<a name="module_http..ResponseDescriptor"></a></p>

<h2>class: http~ResponseDescriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a>

<ul>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..ResponseDescriptor"></a></p>

<h3>new http~ResponseDescriptor(opts)</h3>

<p>Describes what to do with a HTTP response.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_store"></a></p>

<h1>store</h1>

<p>The &quot;store&quot; is responsible for mediating between the in-memory cache and any persistent storage.
Note that persistent storage has not been properly implemented yet and so this is pretty useless.
All queries will go straight to the cache instead.</p>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_store">store</a>

<ul>
<li><a href="#module_store..get">store~get(opts, callback)</a></li>
<li><a href="#module_store..getMultipleLocal">store~getMultipleLocal(localIdentifiers, callback)</a></li>
</ul></li>
</ul>

<p><a name="module_store..get"></a></p>

<h2>store~get(opts, callback)</h2>

<p>[get description]</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
<li>callback <code>function</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_store">store</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">xyz</span> <span class="o">=</span> <span class="s1">&#39;afsdf&#39;</span><span class="p">;</span>
</code></pre></div>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">abc</span> <span class="o">=</span> <span class="s1">&#39;asdsd&#39;</span><span class="p">;</span>
</code></pre></div>
<p><a name="module_store..getMultipleLocal"></a></p>

<h2>store~getMultipleLocal(localIdentifiers, callback)</h2>

<p>Uses pouch bulk fetch API. Much faster than getMultiple.</p>

<p><strong>Params</strong></p>

<ul>
<li>localIdentifiers<br></li>
<li>callback<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_store">store</a><br>
<a name="module_http"></a></p>

<h1>http</h1>

<p>Descriptors deal with the description of HTTP requests and are used by Siesta to determine what to do
with HTTP request/response bodies.</p>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="module_http..path"></a></p>

<h2>http~path</h2>

<p><strong>Scope</strong>: inner member of <a href="#module_http">http</a><br>
<strong>Type</strong>: <code>String</code><br>
<a name="module_http.._httpResponse"></a></p>

<h2>http~_httpResponse(method, path, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path parsing the response.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http.._httpRequest"></a></p>

<h2>http~_httpRequest(method, path, object, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>object <code>SiestaModel</code> - The model we&#39;re pushing to the server<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http..DELETE"></a></p>

<h2>http~DELETE(collection, path, model, optsOrCallback, callback)</h2>

<p>Send a DELETE request. Also removes the object.</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>Stirng</code> - The path to the resource to which we want to DELETE<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PATCH<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HTTP_METHOD"></a></p>

<h2>http~HTTP_METHOD(collection, request, method)</h2>

<p>Send a HTTP request using the given method</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>request  - Does the request contain data? e.g. POST/PATCH/PUT will be true, GET will false<br></li>
<li>method<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..GET"></a></p>

<h2>http~GET(collection, path, optsOrCallback, callback)</h2>

<p>Send a GET request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..OPTIONS"></a></p>

<h2>http~OPTIONS(collection, path, optsOrCallback, callback)</h2>

<p>Send an OPTIONS request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..TRACE"></a></p>

<h2>http~TRACE(collection, path, optsOrCallback, callback)</h2>

<p>Send an TRACE request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HEAD"></a></p>

<h2>http~HEAD(collection, path, optsOrCallback, callback)</h2>

<p>Send an HEAD request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..POST"></a></p>

<h2>http~POST(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an POST request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PUT"></a></p>

<h2>http~PUT(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PUT request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PATCH"></a></p>

<h2>http~PATCH(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PATCH request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..bury"></a></p>

<h2>http~bury(obj, data)</h2>

<p>Performs a breadth-first search through data, embedding obj in the first leaf.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>Object</code><br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor"></a></p>

<h2>class: http~Descriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a>

<ul>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..Descriptor"></a></p>

<h3>new http~Descriptor(opts)</h3>

<p>A descriptor &#39;describes&#39; possible HTTP requests against an API, and is used to decide whether or not to
intercept a HTTP request/response and perform a mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_http..Descriptor#_matchPath"></a></p>

<h3>descriptor._matchPath(path)</h3>

<p>Takes a regex path and returns an object if matched.
If any regular expression groups were defined, the returned object will contain the matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> | <code>RegExp</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/resource/(?P&lt;id&gt;)/&#39;</span>
<span class="p">})</span>
<span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_matchPath</span><span class="p">(</span><span class="s1">&#39;/resource/2&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">matched</span><span class="p">);</span> <span class="c1">// {id: &#39;2&#39;}</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_matchMethod"></a></p>

<h3>descriptor._matchMethod(method)</h3>

<p>Returns true if the descriptor accepts the HTTP method.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>boolean</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">method</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_matchMethod</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_extractData"></a></p>

<h3>descriptor._extractData(data)</h3>

<p>If nested data has been specified in the descriptor, extract the data.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchConfig"></a></p>

<h3>descriptor._matchConfig(config)</h3>

<p>Returns this descriptors mapping if the request config matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchData"></a></p>

<h3>descriptor._matchData(data)</h3>

<p>Returns data if the data matches, performing any extraction as specified in opts.data</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#match"></a></p>

<h3>descriptor.match(config, data)</h3>

<p>Check if the HTTP config and returned data match this descriptor definition.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code> - Config object for $.ajax and similar<br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Extracted data<br>
<a name="module_http..Descriptor#_transformData"></a></p>

<h3>descriptor._transformData(data)</h3>

<p>Apply any transforms.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code> - Serialised data.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Serialised data with applied transformations.<br>
<a name="module_http..ResponseDescriptor"></a></p>

<h2>class: http~ResponseDescriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a>

<ul>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..ResponseDescriptor"></a></p>

<h3>new http~ResponseDescriptor(opts)</h3>

<p>Describes what to do with a HTTP response.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_http"></a></p>

<h1>http</h1>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http">http</a>

<ul>
<li><a href="#module_http..path">http~path</a></li>
<li><a href="#module_http.._httpResponse">http~_httpResponse(method, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http.._httpRequest">http~_httpRequest(method, path, object, optsOrCallback, callback)</a></li>
<li><a href="#module_http..DELETE">http~DELETE(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HTTP_METHOD">http~HTTP_METHOD(collection, request, method)</a></li>
<li><a href="#module_http..GET">http~GET(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..OPTIONS">http~OPTIONS(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..TRACE">http~TRACE(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..HEAD">http~HEAD(collection, path, optsOrCallback, callback)</a></li>
<li><a href="#module_http..POST">http~POST(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PUT">http~PUT(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..PATCH">http~PATCH(collection, path, model, optsOrCallback, callback)</a></li>
<li><a href="#module_http..bury">http~bury(obj, data)</a></li>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a></li>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a></li>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="module_http..path"></a></p>

<h2>http~path</h2>

<p><strong>Scope</strong>: inner member of <a href="#module_http">http</a><br>
<strong>Type</strong>: <code>String</code><br>
<a name="module_http.._httpResponse"></a></p>

<h2>http~_httpResponse(method, path, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path parsing the response.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http.._httpRequest"></a></p>

<h2>http~_httpRequest(method, path, object, optsOrCallback, callback)</h2>

<p>Send a HTTP request to the given method and path</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>object <code>SiestaModel</code> - The model we&#39;re pushing to the server<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<a name="module_http..DELETE"></a></p>

<h2>http~DELETE(collection, path, model, optsOrCallback, callback)</h2>

<p>Send a DELETE request. Also removes the object.</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>Stirng</code> - The path to the resource to which we want to DELETE<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to PATCH<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HTTP_METHOD"></a></p>

<h2>http~HTTP_METHOD(collection, request, method)</h2>

<p>Send a HTTP request using the given method</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>request  - Does the request contain data? e.g. POST/PATCH/PUT will be true, GET will false<br></li>
<li>method<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..GET"></a></p>

<h2>http~GET(collection, path, optsOrCallback, callback)</h2>

<p>Send a GET request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..OPTIONS"></a></p>

<h2>http~OPTIONS(collection, path, optsOrCallback, callback)</h2>

<p>Send an OPTIONS request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..TRACE"></a></p>

<h2>http~TRACE(collection, path, optsOrCallback, callback)</h2>

<p>Send an TRACE request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..HEAD"></a></p>

<h2>http~HEAD(collection, path, optsOrCallback, callback)</h2>

<p>Send an HEAD request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..POST"></a></p>

<h2>http~POST(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an POST request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PUT"></a></p>

<h2>http~PUT(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PUT request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..PATCH"></a></p>

<h2>http~PATCH(collection, path, model, optsOrCallback, callback)</h2>

<p>Send an PATCH request</p>

<p><strong>Params</strong></p>

<ul>
<li>collection <code>Collection</code><br></li>
<li>path <code>String</code> - The path to the resource we want to GET<br></li>
<li>model <code>SiestaModel</code> - The model that we would like to POST<br></li>
<li>optsOrCallback <code>Object</code> | <code>function</code> - Either an options object or a callback if can use defaults<br></li>
<li>callback <code>function</code> - Callback if opts specified.<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Promise</code><br>
<a name="module_http..bury"></a></p>

<h2>http~bury(obj, data)</h2>

<p>Performs a breadth-first search through data, embedding obj in the first leaf.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>Object</code><br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_http">http</a><br>
<strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor"></a></p>

<h2>class: http~Descriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..Descriptor">class: http~Descriptor</a>

<ul>
<li><a href="#new_module_http..Descriptor">new http~Descriptor(opts)</a></li>
<li><a href="#module_http..Descriptor#_matchPath">descriptor._matchPath(path)</a></li>
<li><a href="#module_http..Descriptor#_matchMethod">descriptor._matchMethod(method)</a></li>
<li><a href="#module_http..Descriptor#_extractData">descriptor._extractData(data)</a></li>
<li><a href="#module_http..Descriptor#_matchConfig">descriptor._matchConfig(config)</a></li>
<li><a href="#module_http..Descriptor#_matchData">descriptor._matchData(data)</a></li>
<li><a href="#module_http..Descriptor#match">descriptor.match(config, data)</a></li>
<li><a href="#module_http..Descriptor#_transformData">descriptor._transformData(data)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..Descriptor"></a></p>

<h3>new http~Descriptor(opts)</h3>

<p>A descriptor &#39;describes&#39; possible HTTP requests against an API, and is used to decide whether or not to
intercept a HTTP request/response and perform a mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_http..Descriptor#_matchPath"></a></p>

<h3>descriptor._matchPath(path)</h3>

<p>Takes a regex path and returns an object if matched.
If any regular expression groups were defined, the returned object will contain the matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>path <code>String</code> | <code>RegExp</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/resource/(?P&lt;id&gt;)/&#39;</span>
<span class="p">})</span>
<span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_matchPath</span><span class="p">(</span><span class="s1">&#39;/resource/2&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">matched</span><span class="p">);</span> <span class="c1">// {id: &#39;2&#39;}</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_matchMethod"></a></p>

<h3>descriptor._matchMethod(method)</h3>

<p>Returns true if the descriptor accepts the HTTP method.</p>

<p><strong>Params</strong></p>

<ul>
<li>method <code>String</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>boolean</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Descriptor</span><span class="p">({</span>
    <span class="nx">method</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_matchMethod</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div>
<p><a name="module_http..Descriptor#_extractData"></a></p>

<h3>descriptor._extractData(data)</h3>

<p>If nested data has been specified in the descriptor, extract the data.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchConfig"></a></p>

<h3>descriptor._matchConfig(config)</h3>

<p>Returns this descriptors mapping if the request config matches.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#_matchData"></a></p>

<h3>descriptor._matchData(data)</h3>

<p>Returns data if the data matches, performing any extraction as specified in opts.data</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code><br>
<a name="module_http..Descriptor#match"></a></p>

<h3>descriptor.match(config, data)</h3>

<p>Check if the HTTP config and returned data match this descriptor definition.</p>

<p><strong>Params</strong></p>

<ul>
<li>config <code>Object</code> - Config object for $.ajax and similar<br></li>
<li>data <code>Object</code><br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Extracted data<br>
<a name="module_http..Descriptor#_transformData"></a></p>

<h3>descriptor._transformData(data)</h3>

<p>Apply any transforms.</p>

<p><strong>Params</strong></p>

<ul>
<li>data <code>Object</code> - Serialised data.<br></li>
</ul>

<p><strong>Returns</strong>: <code>Object</code> - Serialised data with applied transformations.<br>
<a name="module_http..ResponseDescriptor"></a></p>

<h2>class: http~ResponseDescriptor</h2>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_http..ResponseDescriptor">class: http~ResponseDescriptor</a>

<ul>
<li><a href="#new_module_http..ResponseDescriptor">new http~ResponseDescriptor(opts)</a></li>
</ul></li>
</ul>

<p><a name="new_module_http..ResponseDescriptor"></a></p>

<h3>new http~ResponseDescriptor(opts)</h3>

<p>Describes what to do with a HTTP response.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner class of <a href="#module_http">http</a><br>
<a name="module_cache"></a></p>

<h1>cache</h1>

<p>This is an in-memory cache for models. Models are cached by local id (_id) and remote id (defined by the mapping).
Lookups are performed against the cache when mapping.</p>

<p><strong>Members</strong></p>

<ul>
<li><a href="#module_cache">cache</a>

<ul>
<li><a href="#module_cache..getViaLocalId">cache~getViaLocalId(localId)</a></li>
<li><a href="#module_cache..getSingleton">cache~getSingleton(mapping)</a></li>
<li><a href="#module_cache..getViaRemoteId">cache~getViaRemoteId(remoteId, opts)</a></li>
<li><a href="#module_cache..remoteInsert">cache~remoteInsert(obj, remoteId, previousRemoteId)</a></li>
<li><a href="#module_cache..remoteDump">cache~remoteDump(asJson)</a></li>
<li><a href="#module_cache..localDump">cache~localDump(asJson)</a></li>
<li><a href="#module_cache..dump">cache~dump(asJson)</a></li>
<li><a href="#module_cache..get">cache~get(opts)</a></li>
<li><a href="#module_cache..insert">cache~insert(obj)</a></li>
<li><a href="#module_cache..contains">cache~contains(obj)</a></li>
<li><a href="#module_cache..remove">cache~remove(obj)</a></li>
</ul></li>
</ul>

<p><a name="module_cache..getViaLocalId"></a></p>

<h2>cache~getViaLocalId(localId)</h2>

<p>Return the object in the cache given a local id (_id)</p>

<p><strong>Params</strong></p>

<ul>
<li>localId <code>String</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>SiestaModel</code><br>
<a name="module_cache..getSingleton"></a></p>

<h2>cache~getSingleton(mapping)</h2>

<p>Return the singleton object given a singleton mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>mapping <code>Mapping</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>SiestaModel</code><br>
<a name="module_cache..getViaRemoteId"></a></p>

<h2>cache~getViaRemoteId(remoteId, opts)</h2>

<p>Given a remote identifier and an options object that describes mapping/collection,
return the model if cached.</p>

<p><strong>Params</strong></p>

<ul>
<li>remoteId <code>String</code><br></li>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>SiestaModel</code><br>
<a name="module_cache..remoteInsert"></a></p>

<h2>cache~remoteInsert(obj, remoteId, previousRemoteId)</h2>

<p>Insert an objet into the cache using a remote identifier defined by the mapping.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>SiestaModel</code><br></li>
<li>remoteId <code>String</code><br></li>
<li>previousRemoteId <code>String</code> - If remote id has been changed, this is the old remote identifier<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<a name="module_cache..remoteDump"></a></p>

<h2>cache~remoteDump(asJson)</h2>

<p>Dump the remote id cache</p>

<p><strong>Params</strong></p>

<ul>
<li>asJson <code>boolean</code> - Whether or not to apply JSON.stringify<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>String</code> | <code>Object</code><br>
<a name="module_cache..localDump"></a></p>

<h2>cache~localDump(asJson)</h2>

<p>Dump the local id (_id) cache</p>

<p><strong>Params</strong></p>

<ul>
<li>asJson <code>boolean</code> - Whether or not to apply JSON.stringify<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>String</code> | <code>Object</code><br>
<a name="module_cache..dump"></a></p>

<h2>cache~dump(asJson)</h2>

<p>Dump to the cache.</p>

<p><strong>Params</strong></p>

<ul>
<li>asJson <code>boolean</code> - Whether or not to apply JSON.stringify<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>String</code> | <code>Object</code><br>
<a name="module_cache..get"></a></p>

<h2>cache~get(opts)</h2>

<p>Query the cache</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code> - Object describing the query<br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>SiestaModel</code><br>
<strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span><span class="nx">_id</span><span class="o">:</span> <span class="s1">&#39;5&#39;</span><span class="p">});</span> <span class="c1">// Query by local id</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span><span class="nx">remoteId</span><span class="o">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="nx">mapping</span><span class="o">:</span> <span class="nx">myMapping</span><span class="p">});</span> <span class="c1">// Query by remote id</span>
</code></pre></div>
<p><a name="module_cache..insert"></a></p>

<h2>cache~insert(obj)</h2>

<p>Insert an objet into the cache.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>SiestaModel</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Type</strong>: <code>InternalSiestaError</code><br>
<a name="module_cache..contains"></a></p>

<h2>cache~contains(obj)</h2>

<p>Returns true if object is in the cache</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>SiestaModel</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Returns</strong>: <code>boolean</code><br>
<a name="module_cache..remove"></a></p>

<h2>cache~remove(obj)</h2>

<p>Removes the object from the cache (if it&#39;s actually in the cache) otherwises throws an error.</p>

<p><strong>Params</strong></p>

<ul>
<li>obj <code>SiestaModel</code><br></li>
</ul>

<p><strong>Scope</strong>: inner function of <a href="#module_cache">cache</a><br>
<strong>Type</strong>: <code>InternalSiestaError</code>  </p>

</article>
</div>
</div>
</div>
</div>


<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
    if (typeof jQuery == 'undefined')
        document.write(unescape("%3Cscript src='js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- hightlight.js -->
<script src="static/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- JS -->

<!-- Front end file editor -->
<script src="static/js/custom.js"></script>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

</body>
</html>

