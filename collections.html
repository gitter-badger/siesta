<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<!--suppress ALL -->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Documentation: Collections</title>
    <meta name="description" content="The Easiest Way To Document Your Project"/>
    <meta name="author" content="Justin Walsh">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic'
          rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='static/css/main.css' rel='stylesheet' type='text/css'>
</head>
<body>
<!-- Docs -->
<a href="https://github.com/mtford90/siesta" target="_blank" id="github-ribbon" class="hidden-print"><img
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div class="container-fluid fluid-height wrapper">
<div class="navbar navbar-fixed-top hidden-print">
    <div class="container-fluid">
        <a class="brand navbar-brand pull-left" href="/">SIESTA</a>
        <p class="brand navbar-text pull-right"><a href="/siesta/download.html">Download 0.1-alpha</a></p>
    </div>
</div>
<div class="row columns content">
<div class="left-column article-tree col-sm-3 hidden-print">
    <!-- For Mobile -->
    <div class="responsive-collapse">
        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div id="sub-nav-collapse" class="sub-nav-collapse">
        <!-- Navigation -->
        <!--suppress HtmlUnknownTarget -->
<ul class="nav nav-list">
    <li><a href="/siesta/docs.html">Getting Started</a></li>
    <li><a href="/siesta/concepts.html">Concepts</a></li>
    <li>
        <a href="#" class="aj-nav folder">Guide</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/object_mapping.html">Mapping</a></li>
            <li><a href="/siesta/http.html">HTTP</a></li>
            <li><a href="/siesta/local_queries.html">Local Queries</a></li>
            <li><a href="/siesta/notifications.html">Notifications</a></li>
            <li><a href="/siesta/persistence.html">Persistence</a></li>
        </ul>
    </li>
    <li>
        <a href="#" class="aj-nav folder">API</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/collections.html">Collection</a></li>
        </ul>
    </li>
    <li>
        <a href="#" class="aj-nav folder">Recipes</a>
        <ul class="nav nav-list">
            <li><a href="/siesta/intercollection_relationships.html">Inter-Collection Relationships</a></li>
            <li><a href="/siesta/complex_queries.html">Complex Queries</a></li>
            <li><a href="/siesta/pouchdb_synchronisation.html">PouchDB Synchronisation</a></li>
            <li><a href="/siesta/local_collections.html">Local Collections</a></li>
        </ul>
    </li>
</ul>
<div class="well well-sidebar">

    <!-- Links -->
    <a href="/siesta/download.html" target="_blank">Download</a><br><a
        href="https://github.com/mtford90/siesta" target="_blank">GitHub Repo</a><br><a
        href="https://github.com/mtford90/siesta/issues" target="_blank">Help/Support/Bugs</a><br>
    <a href="#"
       id="toggleCodeBlockBtn"
       onclick="toggleCodeBlocks();">Show
        Code Blocks Inline</a><br>
</div>


    </div>
</div>
<div class="right-column float-view content-area col-sm-9">
<div class="content-page">
<article>
    <p><a name="Collection"></a></p>

<h1>class: Collection</h1>

<p><strong>Members</strong></p>

<ul>
<li><a href="#Collection">class: Collection</a>

<ul>
<li><a href="#new_Collection">new Collection(name)</a></li>
<li><a href="#Collection#baseURL">collection.baseURL</a></li>
<li><a href="#Collection#installed">collection.installed</a></li>
<li><a href="#Collection#install">collection.install(callback)</a></li>
<li><a href="#Collection#requestDescriptor">collection.requestDescriptor(opts)</a></li>
<li><a href="#Collection#responseDescriptor">collection.responseDescriptor(opts)</a></li>
<li><a href="#Collection#HTTP_METHOD">collection.HTTP_METHOD(request, method)</a></li>
<li><a href="#Collection#GET">collection.GET()</a></li>
<li><a href="#Collection#OPTIONS">collection.OPTIONS()</a></li>
<li><a href="#Collection#TRACE">collection.TRACE()</a></li>
<li><a href="#Collection#HEAD">collection.HEAD()</a></li>
<li><a href="#Collection#POST">collection.POST()</a></li>
<li><a href="#Collection#PUT">collection.PUT()</a></li>
<li><a href="#Collection#PATCH">collection.PATCH()</a></li>
<li><a href="#Collection#DELETE">collection.DELETE()</a></li>
<li><a href="#Collection#count">collection.count(callback)</a></li>
</ul></li>
</ul>

<p><a name="new_Collection"></a></p>

<h2>new Collection(name)</h2>

<p>A collection describes a set of models and optionally a REST API which we would
like to model.</p>

<p><strong>Params</strong></p>

<ul>
<li>name<br></li>
</ul>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">GitHub</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">siesta</span><span class="p">.</span><span class="nx">Collection</span><span class="p">(</span><span class="s1">&#39;GitHub&#39;</span><span class="p">)</span>
<span class="c1">// ... configure mappings, descriptors etc ...</span>
<span class="nx">GitHub</span><span class="p">.</span><span class="nx">install</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ... carry on.</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="Collection#baseURL"></a></p>

<h2>collection.baseURL</h2>

<p>The URL of the API e.g. http://api.github.com</p>

<p><strong>Type</strong>: <code>string</code><br>
<a name="Collection#installed"></a></p>

<h2>collection.installed</h2>

<p>Set to true if installation has succeeded. You cannot use the collectio</p>

<p><strong>Type</strong>: <code>boolean</code><br>
<a name="Collection#install"></a></p>

<h2>collection.install(callback)</h2>

<p>Ensure mappings are installed.</p>

<p><strong>Params</strong></p>

<ul>
<li>callback<br></li>
</ul>

<p><a name="Collection#requestDescriptor"></a></p>

<h2>collection.requestDescriptor(opts)</h2>

<p>Register a request descriptor for this collection.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">collection</span><span class="p">.</span><span class="nx">requestDescriptor</span><span class="p">({</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;cars/(?P&lt;id&gt;)/&#39;</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;PUT&#39;</span><span class="p">,</span>
    <span class="nx">mapping</span><span class="o">:</span> <span class="s1">&#39;Car&#39;</span><span class="p">,</span>
    <span class="nx">data</span><span class="o">:</span> <span class="s1">&#39;data&#39;</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="Collection#responseDescriptor"></a></p>

<h2>collection.responseDescriptor(opts)</h2>

<p>Register a response descriptor for this collection.</p>

<p><strong>Params</strong></p>

<ul>
<li>opts <code>Object</code><br></li>
</ul>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">responseDescriptor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">siesta</span><span class="p">.</span><span class="nx">ext</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">ResponseDescriptor</span><span class="p">({</span>
   <span class="nx">mapping</span><span class="o">:</span> <span class="s1">&#39;Car&#39;</span><span class="p">,</span>
   <span class="nx">transforms</span><span class="o">:</span> <span class="p">{</span>
       <span class="s1">&#39;colour&#39;</span><span class="o">:</span> <span class="s1">&#39;path.to.colour&#39;</span>
   <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><a name="Collection#HTTP_METHOD"></a></p>

<h2>collection.HTTP_METHOD(request, method)</h2>

<p>Send a HTTP request using the given method</p>

<p><strong>Params</strong></p>

<ul>
<li>request  - Does the request contain data? e.g. POST/PATCH/PUT will be true, GET will false<br></li>
<li>method<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#GET"></a></p>

<h2>collection.GET()</h2>

<p>Send a GET request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#OPTIONS"></a></p>

<h2>collection.OPTIONS()</h2>

<p>Send a OPTIONS request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#TRACE"></a></p>

<h2>collection.TRACE()</h2>

<p>Send a TRACE request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#HEAD"></a></p>

<h2>collection.HEAD()</h2>

<p>Send a HEAD request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#POST"></a></p>

<h2>collection.POST()</h2>

<p>Send a POST request</p>

<p><strong>Returns</strong>: <code>*</code><br>
<a name="Collection#PUT"></a></p>

<h2>collection.PUT()</h2>

<p>Send a PUT request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#PATCH"></a></p>

<h2>collection.PATCH()</h2>

<p>Send a PATCH request</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#DELETE"></a></p>

<h2>collection.DELETE()</h2>

<p>Send a DELETE request. Also removes the object.</p>

<p><strong>Returns</strong>: <code>Promise</code><br>
<a name="Collection#count"></a></p>

<h2>collection.count(callback)</h2>

<p>Returns the number of objects in this collection.</p>

<p><strong>Params</strong></p>

<ul>
<li>callback<br></li>
</ul>

<p><strong>Returns</strong>: <code>Promise</code>  </p>

</article>
</div>
</div>
</div>
</div>


<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
    if (typeof jQuery == 'undefined')
        document.write(unescape("%3Cscript src='js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- hightlight.js -->
<script src="static/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- JS -->

<!-- Front end file editor -->
<script src="static/js/custom.js"></script>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

</body>
</html>

